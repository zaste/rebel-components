/**
 * üìù REBEL COMPONENTS - TYPOGRAPHY SYSTEM
 * Complete typography scale, styles, and semantic text components
 * 
 * @version 1.0.0
 * @description Comprehensive typography system with fluid scaling and accessibility
 * @compatibility Chrome 88+, Firefox 78+, Safari 14+
 * @author Rebel Component Intelligence System
 */

/* ==========================================
 * üìù FONT LOADING & PERFORMANCE
 * ========================================== */

/* Preload critical fonts for performance */
@font-face {
  font-family: 'JetBrains Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url('https://fonts.gstatic.com/s/jetbrainsmono/v13/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxjPVmUsaaDhw.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'JetBrains Mono';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url('https://fonts.gstatic.com/s/jetbrainsmono/v13/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxjPVmUsaaDhw.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

/* ==========================================
 * üéØ TYPOGRAPHY BASE STYLES
 * ========================================== */

/* Reset and base typography */
html {
  font-size: 16px; /* Base font size for rem calculations */
  line-height: 1.5;
  -webkit-text-size-adjust: 100%;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

body {
  font-family: var(--rebel-font-family-sans);
  font-size: var(--rebel-text-base);
  font-weight: var(--rebel-font-normal);
  line-height: var(--rebel-leading-normal);
  color: var(--rebel-text);
  background-color: var(--rebel-surface);
}

/* ==========================================
 * üìê FLUID TYPOGRAPHY SCALE
 * Using clamp() for responsive typography
 * ========================================== */

.rebel-text-xs {
  font-size: clamp(0.7rem, 0.8vw, 0.75rem);
  line-height: var(--rebel-leading-tight);
}

.rebel-text-sm {
  font-size: clamp(0.8rem, 0.9vw, 0.875rem);
  line-height: var(--rebel-leading-tight);
}

.rebel-text-base {
  font-size: clamp(0.9rem, 1vw, 1rem);
  line-height: var(--rebel-leading-normal);
}

.rebel-text-lg {
  font-size: clamp(1rem, 1.2vw, 1.125rem);
  line-height: var(--rebel-leading-normal);
}

.rebel-text-xl {
  font-size: clamp(1.1rem, 1.4vw, 1.25rem);
  line-height: var(--rebel-leading-snug);
}

.rebel-text-2xl {
  font-size: clamp(1.3rem, 2vw, 1.5rem);
  line-height: var(--rebel-leading-snug);
}

.rebel-text-3xl {
  font-size: clamp(1.6rem, 2.5vw, 1.875rem);
  line-height: var(--rebel-leading-tight);
}

.rebel-text-4xl {
  font-size: clamp(1.9rem, 3vw, 2.25rem);
  line-height: var(--rebel-leading-tight);
}

.rebel-text-5xl {
  font-size: clamp(2.3rem, 4vw, 3rem);
  line-height: var(--rebel-leading-none);
}

.rebel-text-6xl {
  font-size: clamp(2.8rem, 5vw, 3.75rem);
  line-height: var(--rebel-leading-none);
}

.rebel-text-7xl {
  font-size: clamp(3.3rem, 6vw, 4.5rem);
  line-height: var(--rebel-leading-none);
}

.rebel-text-8xl {
  font-size: clamp(4rem, 8vw, 6rem);
  line-height: var(--rebel-leading-none);
}

.rebel-text-9xl {
  font-size: clamp(5rem, 10vw, 8rem);
  line-height: var(--rebel-leading-none);
}

/* ==========================================
 * üé® FONT FAMILY UTILITIES
 * ========================================== */

.rebel-font-sans {
  font-family: var(--rebel-font-family-sans);
}

.rebel-font-serif {
  font-family: var(--rebel-font-family-serif);
}

.rebel-font-mono {
  font-family: var(--rebel-font-family-mono);
  font-variant-numeric: tabular-nums;
}

/* ==========================================
 * ‚öñÔ∏è FONT WEIGHT UTILITIES
 * ========================================== */

.rebel-font-thin { font-weight: var(--rebel-font-thin); }
.rebel-font-extralight { font-weight: var(--rebel-font-extralight); }
.rebel-font-light { font-weight: var(--rebel-font-light); }
.rebel-font-normal { font-weight: var(--rebel-font-normal); }
.rebel-font-medium { font-weight: var(--rebel-font-medium); }
.rebel-font-semibold { font-weight: var(--rebel-font-semibold); }
.rebel-font-bold { font-weight: var(--rebel-font-bold); }
.rebel-font-extrabold { font-weight: var(--rebel-font-extrabold); }
.rebel-font-black { font-weight: var(--rebel-font-black); }

/* ==========================================
 * üìè LINE HEIGHT UTILITIES
 * ========================================== */

.rebel-leading-none { line-height: var(--rebel-leading-none); }
.rebel-leading-tight { line-height: var(--rebel-leading-tight); }
.rebel-leading-snug { line-height: var(--rebel-leading-snug); }
.rebel-leading-normal { line-height: var(--rebel-leading-normal); }
.rebel-leading-relaxed { line-height: var(--rebel-leading-relaxed); }
.rebel-leading-loose { line-height: var(--rebel-leading-loose); }

/* ==========================================
 * üî§ LETTER SPACING UTILITIES
 * ========================================== */

.rebel-tracking-tighter { letter-spacing: var(--rebel-tracking-tighter); }
.rebel-tracking-tight { letter-spacing: var(--rebel-tracking-tight); }
.rebel-tracking-normal { letter-spacing: var(--rebel-tracking-normal); }
.rebel-tracking-wide { letter-spacing: var(--rebel-tracking-wide); }
.rebel-tracking-wider { letter-spacing: var(--rebel-tracking-wider); }
.rebel-tracking-widest { letter-spacing: var(--rebel-tracking-widest); }

/* ==========================================
 * üé≠ TEXT STYLE UTILITIES
 * ========================================== */

/* Text Transform */
.rebel-uppercase { text-transform: uppercase; }
.rebel-lowercase { text-transform: lowercase; }
.rebel-capitalize { text-transform: capitalize; }
.rebel-normal-case { text-transform: none; }

/* Text Decoration */
.rebel-underline { text-decoration: underline; }
.rebel-overline { text-decoration: overline; }
.rebel-line-through { text-decoration: line-through; }
.rebel-no-underline { text-decoration: none; }

/* Text Alignment */
.rebel-text-left { text-align: left; }
.rebel-text-center { text-align: center; }
.rebel-text-right { text-align: right; }
.rebel-text-justify { text-align: justify; }

/* Vertical Alignment */
.rebel-align-baseline { vertical-align: baseline; }
.rebel-align-top { vertical-align: top; }
.rebel-align-middle { vertical-align: middle; }
.rebel-align-bottom { vertical-align: bottom; }
.rebel-align-text-top { vertical-align: text-top; }
.rebel-align-text-bottom { vertical-align: text-bottom; }

/* Text Overflow */
.rebel-truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.rebel-text-ellipsis {
  text-overflow: ellipsis;
}

.rebel-text-clip {
  text-overflow: clip;
}

/* Text Wrapping */
.rebel-text-wrap { white-space: normal; }
.rebel-text-nowrap { white-space: nowrap; }
.rebel-text-pre { white-space: pre; }
.rebel-text-pre-line { white-space: pre-line; }
.rebel-text-pre-wrap { white-space: pre-wrap; }
.rebel-break-normal { word-break: normal; overflow-wrap: normal; }
.rebel-break-words { overflow-wrap: break-word; }
.rebel-break-all { word-break: break-all; }

/* ==========================================
 * üé® TEXT COLOR UTILITIES
 * ========================================== */

.rebel-text-primary { color: var(--rebel-text); }
.rebel-text-secondary { color: var(--rebel-text-secondary); }
.rebel-text-muted { color: var(--rebel-text-muted); }
.rebel-text-light { color: var(--rebel-text-light); }
.rebel-text-inverse { color: var(--rebel-text-inverse); }
.rebel-text-disabled { color: var(--rebel-text-disabled); }
.rebel-text-placeholder { color: var(--rebel-text-placeholder); }

/* Semantic Text Colors */
.rebel-text-success { color: var(--rebel-success); }
.rebel-text-warning { color: var(--rebel-warning); }
.rebel-text-error { color: var(--rebel-error); }
.rebel-text-info { color: var(--rebel-info); }

/* Brand Text Colors */
.rebel-text-brand-primary { color: var(--rebel-primary); }
.rebel-text-brand-secondary { color: var(--rebel-secondary); }

/* ==========================================
 * üìñ SEMANTIC TEXT COMPONENTS
 * ========================================== */

/* Headings with built-in styles */
.rebel-heading-1,
h1.rebel-heading {
  font-size: clamp(2.3rem, 4vw, 3rem);
  font-weight: var(--rebel-font-black);
  line-height: var(--rebel-leading-tight);
  letter-spacing: var(--rebel-tracking-tight);
  color: var(--rebel-text);
  margin-bottom: var(--rebel-spacing-4);
}

.rebel-heading-2,
h2.rebel-heading {
  font-size: clamp(1.9rem, 3vw, 2.25rem);
  font-weight: var(--rebel-font-bold);
  line-height: var(--rebel-leading-tight);
  letter-spacing: var(--rebel-tracking-tight);
  color: var(--rebel-text);
  margin-bottom: var(--rebel-spacing-3);
}

.rebel-heading-3,
h3.rebel-heading {
  font-size: clamp(1.6rem, 2.5vw, 1.875rem);
  font-weight: var(--rebel-font-bold);
  line-height: var(--rebel-leading-snug);
  letter-spacing: var(--rebel-tracking-normal);
  color: var(--rebel-text);
  margin-bottom: var(--rebel-spacing-3);
}

.rebel-heading-4,
h4.rebel-heading {
  font-size: clamp(1.3rem, 2vw, 1.5rem);
  font-weight: var(--rebel-font-semibold);
  line-height: var(--rebel-leading-snug);
  letter-spacing: var(--rebel-tracking-normal);
  color: var(--rebel-text);
  margin-bottom: var(--rebel-spacing-2);
}

.rebel-heading-5,
h5.rebel-heading {
  font-size: clamp(1.1rem, 1.4vw, 1.25rem);
  font-weight: var(--rebel-font-semibold);
  line-height: var(--rebel-leading-normal);
  letter-spacing: var(--rebel-tracking-normal);
  color: var(--rebel-text);
  margin-bottom: var(--rebel-spacing-2);
}

.rebel-heading-6,
h6.rebel-heading {
  font-size: clamp(1rem, 1.2vw, 1.125rem);
  font-weight: var(--rebel-font-medium);
  line-height: var(--rebel-leading-normal);
  letter-spacing: var(--rebel-tracking-wide);
  color: var(--rebel-text-secondary);
  margin-bottom: var(--rebel-spacing-2);
  text-transform: uppercase;
}

/* Body Text Components */
.rebel-body-large {
  font-size: clamp(1rem, 1.2vw, 1.125rem);
  font-weight: var(--rebel-font-normal);
  line-height: var(--rebel-leading-relaxed);
  color: var(--rebel-text);
  margin-bottom: var(--rebel-spacing-4);
}

.rebel-body,
.rebel-body-normal {
  font-size: var(--rebel-text-base);
  font-weight: var(--rebel-font-normal);
  line-height: var(--rebel-leading-normal);
  color: var(--rebel-text);
  margin-bottom: var(--rebel-spacing-3);
}

.rebel-body-small {
  font-size: var(--rebel-text-sm);
  font-weight: var(--rebel-font-normal);
  line-height: var(--rebel-leading-normal);
  color: var(--rebel-text-secondary);
  margin-bottom: var(--rebel-spacing-2);
}

/* Specialty Text Components */
.rebel-caption {
  font-size: var(--rebel-text-xs);
  font-weight: var(--rebel-font-normal);
  line-height: var(--rebel-leading-tight);
  color: var(--rebel-text-muted);
  letter-spacing: var(--rebel-tracking-wide);
}

.rebel-label {
  font-size: var(--rebel-text-sm);
  font-weight: var(--rebel-font-medium);
  line-height: var(--rebel-leading-normal);
  color: var(--rebel-text);
  letter-spacing: var(--rebel-tracking-wide);
}

.rebel-overline {
  font-size: var(--rebel-text-xs);
  font-weight: var(--rebel-font-bold);
  line-height: var(--rebel-leading-tight);
  color: var(--rebel-text-muted);
  letter-spacing: var(--rebel-tracking-widest);
  text-transform: uppercase;
}

.rebel-subtitle-1 {
  font-size: var(--rebel-text-lg);
  font-weight: var(--rebel-font-normal);
  line-height: var(--rebel-leading-snug);
  color: var(--rebel-text);
  letter-spacing: var(--rebel-tracking-normal);
}

.rebel-subtitle-2 {
  font-size: var(--rebel-text-base);
  font-weight: var(--rebel-font-medium);
  line-height: var(--rebel-leading-snug);
  color: var(--rebel-text);
  letter-spacing: var(--rebel-tracking-normal);
}

/* Code and Technical Text */
.rebel-code,
code.rebel-code {
  font-family: var(--rebel-font-family-mono);
  font-size: 0.875em; /* Relative to parent */
  font-weight: var(--rebel-font-normal);
  background-color: var(--rebel-surface-alt);
  color: var(--rebel-text);
  padding: 0.125em 0.25em;
  border-radius: var(--rebel-radius-sm);
  border: 1px solid var(--rebel-border-light);
}

.rebel-kbd,
kbd.rebel-kbd {
  font-family: var(--rebel-font-family-mono);
  font-size: 0.875em;
  font-weight: var(--rebel-font-medium);
  background-color: var(--rebel-surface-alt);
  color: var(--rebel-text);
  padding: 0.125em 0.375em;
  border-radius: var(--rebel-radius-sm);
  border: 1px solid var(--rebel-border);
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

.rebel-pre,
pre.rebel-pre {
  font-family: var(--rebel-font-family-mono);
  font-size: var(--rebel-text-sm);
  line-height: var(--rebel-leading-relaxed);
  background-color: var(--rebel-surface-alt);
  color: var(--rebel-text);
  padding: var(--rebel-spacing-4);
  border-radius: var(--rebel-radius-md);
  border: 1px solid var(--rebel-border-light);
  overflow-x: auto;
  white-space: pre;
}

/* ==========================================
 * üéØ SPECIALIZED TEXT STYLES
 * ========================================== */

/* Display Text (Hero sections) */
.rebel-display {
  font-size: clamp(3rem, 8vw, 6rem);
  font-weight: var(--rebel-font-black);
  line-height: var(--rebel-leading-none);
  letter-spacing: var(--rebel-tracking-tight);
  color: var(--rebel-text);
}

/* Lead Text (Introduction paragraphs) */
.rebel-lead {
  font-size: clamp(1.1rem, 1.4vw, 1.25rem);
  font-weight: var(--rebel-font-normal);
  line-height: var(--rebel-leading-relaxed);
  color: var(--rebel-text-secondary);
  margin-bottom: var(--rebel-spacing-6);
}

/* Quote Styles */
.rebel-quote {
  font-size: clamp(1.1rem, 1.4vw, 1.25rem);
  font-weight: var(--rebel-font-normal);
  line-height: var(--rebel-leading-relaxed);
  color: var(--rebel-text-secondary);
  font-style: italic;
  padding-left: var(--rebel-spacing-4);
  border-left: 4px solid var(--rebel-primary);
  margin: var(--rebel-spacing-6) 0;
}

.rebel-blockquote {
  font-size: clamp(1.3rem, 2vw, 1.5rem);
  font-weight: var(--rebel-font-normal);
  line-height: var(--rebel-leading-relaxed);
  color: var(--rebel-text);
  font-style: italic;
  text-align: center;
  margin: var(--rebel-spacing-8) 0;
  padding: var(--rebel-spacing-6);
  background-color: var(--rebel-surface-alt);
  border-radius: var(--rebel-radius-lg);
}

/* Link Styles */
.rebel-link,
a.rebel-link {
  color: var(--rebel-primary);
  text-decoration: underline;
  text-decoration-color: transparent;
  text-underline-offset: 0.125em;
  transition: all var(--rebel-duration-fast) var(--rebel-easing);
}

.rebel-link:hover,
a.rebel-link:hover {
  color: var(--rebel-primary-hover);
  text-decoration-color: currentColor;
}

.rebel-link:focus-visible,
a.rebel-link:focus-visible {
  outline: var(--rebel-focus-outline);
  outline-offset: var(--rebel-focus-offset);
  border-radius: var(--rebel-radius-sm);
}

/* ==========================================
 * üì± RESPONSIVE TYPOGRAPHY
 * ========================================== */

/* Container Queries for Typography */
@container (max-width: 480px) {
  .rebel-heading-1,
  h1.rebel-heading {
    font-size: clamp(1.8rem, 6vw, 2.25rem);
    margin-bottom: var(--rebel-spacing-3);
  }
  
  .rebel-heading-2,
  h2.rebel-heading {
    font-size: clamp(1.5rem, 5vw, 1.875rem);
    margin-bottom: var(--rebel-spacing-2);
  }
  
  .rebel-display {
    font-size: clamp(2rem, 10vw, 3rem);
  }
  
  .rebel-lead {
    font-size: var(--rebel-text-lg);
    margin-bottom: var(--rebel-spacing-4);
  }
}

/* Fallback for browsers without container query support */
@media (max-width: 480px) {
  @supports not (container-type: inline-size) {
    .rebel-heading-1,
    h1.rebel-heading {
      font-size: clamp(1.8rem, 6vw, 2.25rem);
      margin-bottom: var(--rebel-spacing-3);
    }
    
    .rebel-heading-2,
    h2.rebel-heading {
      font-size: clamp(1.5rem, 5vw, 1.875rem);
      margin-bottom: var(--rebel-spacing-2);
    }
    
    .rebel-display {
      font-size: clamp(2rem, 10vw, 3rem);
    }
  }
}

/* ==========================================
 * ‚ôø ACCESSIBILITY ENHANCEMENTS
 * ========================================== */

/* High contrast mode adjustments */
@media (prefers-contrast: high) {
  .rebel-code,
  code.rebel-code,
  .rebel-kbd,
  kbd.rebel-kbd,
  .rebel-pre,
  pre.rebel-pre {
    border: 2px solid currentColor;
    background-color: transparent;
  }
  
  .rebel-quote {
    border-left-width: 6px;
    border-left-color: currentColor;
  }
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .rebel-link,
  a.rebel-link {
    transition: none;
  }
}

/* Focus styles for keyboard navigation */
*:focus-visible {
  outline: var(--rebel-focus-outline);
  outline-offset: var(--rebel-focus-offset);
  border-radius: var(--rebel-radius-sm);
}

/* ==========================================
 * üñ®Ô∏è PRINT TYPOGRAPHY
 * ========================================== */

@media print {
  /* Optimize typography for print */
  body {
    font-size: 12pt;
    line-height: 1.4;
    color: black;
  }
  
  .rebel-heading-1,
  h1.rebel-heading {
    font-size: 24pt;
    page-break-after: avoid;
  }
  
  .rebel-heading-2,
  h2.rebel-heading {
    font-size: 20pt;
    page-break-after: avoid;
  }
  
  .rebel-heading-3,
  h3.rebel-heading {
    font-size: 16pt;
    page-break-after: avoid;
  }
  
  .rebel-heading-4,
  h4.rebel-heading {
    font-size: 14pt;
    page-break-after: avoid;
  }
  
  .rebel-quote,
  .rebel-blockquote {
    page-break-inside: avoid;
  }
  
  .rebel-link,
  a.rebel-link {
    color: black;
    text-decoration: underline;
  }
  
  .rebel-code,
  code.rebel-code,
  .rebel-pre,
  pre.rebel-pre {
    background-color: #f5f5f5;
    border: 1px solid #ccc;
  }
}

/* ==========================================
 * üé≠ TEXT EFFECTS & ENHANCEMENTS
 * ========================================== */

/* Text selection styling */
::selection {
  background-color: var(--rebel-selection);
  color: var(--rebel-selection-text);
}

::-moz-selection {
  background-color: var(--rebel-selection);
  color: var(--rebel-selection-text);
}

/* Smooth text rendering */
.rebel-smooth-text {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

/* Remove margins from last child elements */
.rebel-prose > *:last-child,
.rebel-content > *:last-child {
  margin-bottom: 0;
}

/* Add breathing room to first child elements */
.rebel-prose > *:first-child,
.rebel-content > *:first-child {
  margin-top: 0;
}

/* ==========================================
 * üîß UTILITY COMBINATIONS
 * ========================================== */

/* Common typography combinations */
.rebel-title {
  @apply rebel-heading-1 rebel-font-black rebel-tracking-tight;
}

.rebel-section-title {
  @apply rebel-heading-2 rebel-font-bold rebel-tracking-normal;
}

.rebel-card-title {
  @apply rebel-heading-4 rebel-font-semibold rebel-tracking-normal;
}

.rebel-meta-text {
  @apply rebel-text-sm rebel-text-muted rebel-tracking-wide;
}

.rebel-highlight-text {
  @apply rebel-text-lg rebel-font-medium rebel-text-brand-primary;
}

/* ==========================================
 * üìù PROSE CONTENT STYLING
 * ========================================== */

.rebel-prose {
  max-width: 65ch; /* Optimal reading width */
  color: var(--rebel-text);
}

.rebel-prose h1 { @apply rebel-heading-1; }
.rebel-prose h2 { @apply rebel-heading-2; }
.rebel-prose h3 { @apply rebel-heading-3; }
.rebel-prose h4 { @apply rebel-heading-4; }
.rebel-prose h5 { @apply rebel-heading-5; }
.rebel-prose h6 { @apply rebel-heading-6; }

.rebel-prose p {
  @apply rebel-body;
}

.rebel-prose a {
  @apply rebel-link;
}

.rebel-prose code {
  @apply rebel-code;
}

.rebel-prose pre {
  @apply rebel-pre;
}

.rebel-prose blockquote {
  @apply rebel-quote;
}

.rebel-prose strong,
.rebel-prose b {
  font-weight: var(--rebel-font-bold);
  color: var(--rebel-text);
}

.rebel-prose em,
.rebel-prose i {
  font-style: italic;
  color: var(--rebel-text-secondary);
}

.rebel-prose ul,
.rebel-prose ol {
  margin: var(--rebel-spacing-4) 0;
  padding-left: var(--rebel-spacing-6);
}

.rebel-prose li {
  margin: var(--rebel-spacing-1) 0;
  line-height: var(--rebel-leading-relaxed);
}

.rebel-prose hr {
  margin: var(--rebel-spacing-8) 0;
  border: none;
  border-top: 1px solid var(--rebel-border);
}